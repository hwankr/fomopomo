---
trigger: model_decision
description: 브랜치 생성, 커밋 작성, 머지 처리, DB 수정, 작업 계획·보고를 일관성 있게 지원하기 위한 공통 개발 규칙.
---

# Global Rules (개인 개발 환경 공통 규칙)

이 규칙들은 내가 개발 관련 도움을 줄 때(브랜치 생성, 커밋 메시지 제안, 머지, DB 수정, 작업 계획/보고 등) 항상 적용된다.

---

## 1. 브랜치 생성 규칙

- 새 작업(기능 추가, 버그 수정, 리팩터링, 문서 수정 등)을 시작할 때는 **항상 새로운 브랜치**를 만든다고 가정한다.
- 브랜치 이름은 다음 형식을 따른다.

  - 기능 추가: `feat/세부내용`
  - 버그 수정: `fix/세부내용`
  - 리팩터링: `refactor/세부내용`
  - 문서 수정: `docs/세부내용`
  - 그 외 기타 작업: `chore/세부내용` (필요하면 사용)

- 내가 브랜치 이름을 제안할 때는 위 형식을 지키면서, 작업 의도가 드러나도록 한국어/영어를 섞어 자연스럽게 제안한다.
  - 예: `feat/login-api`, `fix/payment-calc-bug`, `docs/readme-update`

---

## 2. 커밋 규칙

- 각 작업 단위가 끝나면, 그 변경 내용에 맞는 **커밋 메시지**를 내가 먼저 제안한다.
- 커밋 메시지는 다음 형식을 따른다.

  - `feat: 세부 설명`
  - `fix: 세부 설명`
  - `refactor: 세부 설명`
  - `docs: 세부 설명`
  - `chore: 세부 설명`
  - 등 상황에 맞는 카테고리를 사용한다.

- 커밋 메시지는 **반드시 한국어로 작성**하되, 파일명/함수명/변수명 등은 원래 이름 그대로 사용해도 된다.
- 내가 커밋 메시지를 제안할 때는:
  - 변경의 핵심이 한 줄에 드러나도록 짧고 명확하게 쓰고
  - 필요하다면 “이 커밋에 포함된 주요 변경 내역”을 bullet로 같이 설명해 준다.

---

## 3. 머지(merge) 요청 처리 규칙

- 사용자가 “merge 해줘”, “머지해줘”, “main에 반영해줘”와 같이 말하면, 기본적으로 다음 흐름을 따른다.

  1. **작업 브랜치 확인**
     - 별도 언급이 없으면, “직전에 작업하던 브랜치” 또는 “현재 사용자가 말한 작업 브랜치”를 병합 대상으로 간주한다.

  2. **명령 순서 안내 (간단 버전)**
     - 다음 기본 순서를 기준으로 안내한다.
       - `git checkout main`
       - `git pull` (필요시)
       - `git merge <작업-브랜치>`
       - 병합 성공 후 로컬 브랜치 삭제: `git branch -d <작업-브랜치>`

  3. **충돌이 발생한 경우**
     - 충돌이 났다는 사실과, 어느 파일에서 충돌이 났는지만 간단히 정리해 주고
     - 사용자가 원할 때만, 충돌 해결 방법을 더 자세히 단계별로 설명한다.

- 너무 무거운 검증 절차보다는, **빠르게 병합 흐름을 안내하는 것**을 기본으로 한다.
- 사용자가 “좀 더 안전하게 해줘”, “머지 전에 뭐가 바뀌었는지 자세히 보고 싶어”라고 요청하면,
  - 작업 브랜치의 주요 커밋/변경 파일 정도는 추가로 요약해서 보여준다.

---

## 4. DB 수정 작업 규칙 (fomopomo / fomopomo-dev)

- “DB를 수정하는 작업”이 언급되면, 다음 원칙을 따른다.

  1. **항상 dev DB 먼저**
     - 모든 DB 수정은 `fomopomo-dev` DB에서 먼저 진행한다고 가정한다.
     - 쿼리 예시나 마이그레이션 예시를 줄 때도 dev 기준으로 먼저 작성한다.

  2. **검증 후 prod 반영**
     - dev에서 작업이 정상적으로 동작하고 문제가 없다고 판단되면,
     - 사용자가 원할 경우에만 실제 product DB인 `fomopomo`에 동일한 수정 사항을 적용하도록 안내한다.

  3. **주의 메시지**
     - prod에 적용할 때는 “이 작업은 실제 서비스 DB에 영향을 줍니다” 정도의 경고 문구를 짧게 덧붙인다.
     - 위험한 UPDATE/DELETE 문이 보이면, WHERE 조건 여부 등 기본적인 안전 체크 포인트도 함께 언급해 준다.

---

## 5. 작업 시작 및 완료 시 설명 규칙

### 5-1. 작업 시작 시

- 사용자가 “이거 고쳐줘”, “이 작업 시작하자”, “이 문제 해결하자”라고 하면, 나는 **먼저 한국어로 작업 계획을 설명**한다.
- 작업 시작 설명에는 다음 내용을 포함한다.

  - 어떤 문제가 있는지 (문제 요약)
  - 어떻게 수정하면 좋을지 기본 전략
  - 가능한 여러 옵션이 있다면:
    - 각 옵션의 장단점
    - 대략적인 구현 방법

- 너무 길게 쓰기보다는, **읽기 좋은 Bullet 형식**으로 짧고 명확하게 설명하는 것을 우선한다.

### 5-2. 작업 완료 시

- 특정 작업이 완료되었을 때(사용자가 “끝났다”, “이제 잘 된다” 등으로 말할 때), 나는 한국어로 다음을 정리한다.

  - 어떤 문제가 있었는지
  - 원인이 무엇이었는지 (가능한 범위 내에서)
  - 어떤 파일/코드를 어떻게 수정했는지
  - 그 결과 어떻게 동작이 바뀌었는지

- 가능하다면, “비슷한 문제가 다시 안 생기게 하기 위한 추천사항(리팩터링/테스트 아이디어 등)”도 간단히 덧붙인다.

---

## 6. 응답 스타일 공통 규칙

- 모든 설명과 안내는 **기본적으로 한국어**로 작성한다.
- 코드나 명령어를 보여줄 때는 코드 블록을 사용해 가독성을 높인다.
- 설명은:
  - 최대한 **간결하게**
  - 하지만 이해에 필요한 핵심은 빠뜨리지 않고
  - 필요할 때 bullet, 번호 리스트, 소제목을 사용해 구조적으로 작성한다.
